<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZAZA - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">ZAZA</div>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <li class="nav-item">
                    <a href="#" class="nav-link active" data-section="dashboard" id="nav-dashboard">
                        <span>üè†</span>
                        <span>–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="tgbot" id="nav-tgbot">
                        <span>ü§ñ</span>
                        <span>–¢–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç—ã</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="employees" id="nav-employees">
                        <span>üë•</span>
                        <span>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/static/clients.html" class="nav-link">
                        <span>üë§</span>
                        <span>–ö–ª–∏–µ–Ω—Ç—ã</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="tickets" id="nav-tickets">
                        <span>üéØ</span>
                        <span>–ê–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="archive" id="nav-archive">
                        <span>üìã</span>
                        <span>–ê—Ä—Ö–∏–≤ —Ç–∏–∫–µ—Ç–æ–≤</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="chat" id="nav-chat">
                        <span>üí¨</span>
                        <span>–ß–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="notes" id="nav-notes">
                        <span>üìù</span>
                        <span>–ó–∞–º–µ—Ç–∫–∏</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Header -->
    <header class="header">
        <div class="header-title">
            <h1 id="page-title">–ì–ª–∞–≤–Ω–∞—è</h1>
        </div>
        
        <div class="header-right">
            <button class="theme-toggle" id="themeToggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
            <div class="user-menu">
                <button class="user-btn" id="profileBtn">
                    <span class="user-avatar">üë§</span>
                    <span id="username">Admin</span>
                </button>
            </div>
            <button class="btn btn-danger" id="logoutBtn">
                –í—ã–π—Ç–∏
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <div id="dashboard-section" class="content-section">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2>üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ZAZA!</h2>
                    </div>
                    <div class="card-body">
                        <p style="font-size: 18px; color: var(--text-gray); margin-bottom: 20px;">
                            <strong>–ú–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–∫–µ—Ç–∞–º–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</strong>
                        </p>
                        <p style="font-size: 16px; line-height: 1.8; color: var(--text-gray);">
                            –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞—è–≤–∫–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –ø–æ–≤—ã—à–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è. 
                            –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –∏–∑ –±–æ–∫–æ–≤–æ–≥–æ –º–µ–Ω—é –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã.
                        </p>
                        <div style="margin-top: 30px; display: flex; gap: 15px; flex-wrap: wrap;">
                            <button class="btn btn-primary" onclick="document.getElementById('nav-tickets').click()">
                                üéØ –ê–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã
                            </button>
                            <button class="btn" style="background: var(--gradient-accent); color: white;" onclick="document.getElementById('nav-tgbot').click()">
                                ü§ñ –¢–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç—ã
                            </button>
                            <button class="btn" style="background: var(--gradient-purple); color: white;" onclick="document.getElementById('nav-employees').click()">
                                üë• –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bots Section -->
        <div id="bots-section" class="content-section hidden">
            <div class="container">
                <div class="card">
                    <div class="card-header" style="display: flex; justify-content: space-between; align-items: center;">
                        <h2>ü§ñ –¢–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç—ã</h2>
                        <button class="btn btn-primary" onclick="openBotModal()">
                            <span>+</span> –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table class="data-table" id="botsTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>–ò–º—è –±–æ—Ç–∞</th>
                                        <th>Telegram –∏–º—è</th>
                                        <th>–¢–æ–∫–µ–Ω</th>
                                        <th>–°–æ–∑–¥–∞–Ω</th>
                                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody id="botsTableBody">
                                    <tr>
                                        <td colspan="6" class="loading-row">–ó–∞–≥—Ä—É–∑–∫–∞...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Employees Section -->
        <div id="employees-section" class="content-section hidden">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2>üë• –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h2>
                    </div>
                    <div class="card-body">
                        <p style="font-size: 16px; color: var(--text-gray); margin-bottom: 20px;">
                            –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –∏ –∏—Ö –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
                        </p>
                        <div style="padding: 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%); border-radius: 12px;">
                            <h3 style="color: var(--purple-accent); margin: 0 0 10px 0;">üë∑‚Äç‚ôÇÔ∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h3>
                            <p style="margin: 0; color: var(--text-gray);">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Active Tickets Section -->
        <div id="active-tickets-section" class="content-section hidden">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2>üéØ –ê–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã</h2>
                    </div>
                    <div class="card-body">
                        <p style="font-size: 16px; color: var(--text-gray); margin-bottom: 20px;">
                            –¢–µ–∫—É—â–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ç–∏–∫–µ—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
                        </p>
                        <div style="padding: 20px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%); border-radius: 12px;">
                            <h3 style="color: var(--success-green); margin: 0 0 10px 0;">ÔøΩ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h3>
                            <p style="margin: 0; color: var(--text-gray);">–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–∏–∫–µ—Ç–æ–≤, —Ñ–∏–ª—å—Ç—Ä—ã –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Archive Tickets Section -->
        <div id="archive-tickets-section" class="content-section hidden">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2>üìö –ê—Ä—Ö–∏–≤ —Ç–∏–∫–µ—Ç–æ–≤</h2>
                    </div>
                    <div class="card-body">
                        <p style="font-size: 16px; color: var(--text-gray); margin-bottom: 20px;">
                            –ó–∞–∫—Ä—ã—Ç—ã–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–∏—Å–∫–∞
                        </p>
                        <div style="padding: 20px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%); border-radius: 12px;">
                            <h3 style="color: var(--success-green); margin: 0 0 10px 0;">üìã –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h3>
                            <p style="margin: 0; color: var(--text-gray);">–ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Ç–∏–∫–µ—Ç–æ–≤, –ø–æ–∏—Å–∫ –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Section -->
        <div id="chat-section" class="content-section hidden">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2>üí¨ –ß–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h2>
                    </div>
                    <div class="card-body">
                        <p style="font-size: 16px; color: var(--text-gray); margin-bottom: 20px;">
                            –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —á–∞—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
                        </p>
                        <div style="padding: 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%); border-radius: 12px;">
                            <h3 style="color: var(--purple-accent); margin: 0 0 10px 0;">üí≠ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h3>
                            <p style="margin: 0; color: var(--text-gray);">–ì—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –æ–±–º–µ–Ω —Ñ–∞–π–ª–∞–º–∏</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Section -->
        <div id="notes-section" class="content-section hidden">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2">üìù –ó–∞–º–µ—Ç–∫–∏</h2>
                    </div>
                    <div class="card-body">
                        <p style="font-size: 16px; color: var(--text-gray); margin-bottom: 20px;">
                            –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –æ–±—â–∏–µ –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
                        </p>
                        <div style="padding: 20px; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(251, 191, 36, 0.1) 100%); border-radius: 12px;">
                            <h3 style="color: #F59E0B; margin: 0 0 10px 0;">üìñ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h3>
                            <p style="margin: 0; color: var(--text-gray);">–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bot Modal -->
        <div id="botModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="botModalTitle">–î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞</h3>
                    <span class="close" onclick="closeBotModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="botForm">
                        <div class="form-group">
                            <label for="botName">–ò–º—è –±–æ—Ç–∞</label>
                            <input type="text" id="botName" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="botTelegramName">Telegram –∏–º—è (username)</label>
                            <input type="text" id="botTelegramName" name="telegram_name" placeholder="@bot_username" required>
                        </div>
                        <div class="form-group">
                            <label for="botToken">–¢–æ–∫–µ–Ω –±–æ—Ç–∞</label>
                            <input type="text" id="botToken" name="token" placeholder="123456789:ABCdefGHIjklMNOpqrsTUVwxyz" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeBotModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary" onclick="saveBotData()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- Delete Confirmation Modal -->
        <div id="deleteModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h3>
                    <span class="close" onclick="closeDeleteModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –±–æ—Ç–∞ <span id="deleteBotName"></span>?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeDeleteModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="button" class="btn btn-danger" onclick="confirmDeleteBot()">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </main>

    <script src="/static/auth.js"></script>
    <script src="/static/base.js"></script>
    <script src="/static/dashboard.js"></script>
    <script>
        // –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            if (!checkAuth()) {
                return;
            }

            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            setupNavigation();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ –≤ —Ö–µ–¥–µ—Ä–µ
            setupHeaderButtons();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ö–µ–¥–µ—Ä
            loadUserProfile();
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link[data-section]');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const section = this.getAttribute('data-section');
                    
                    // –ï—Å–ª–∏ —ç—Ç–æ dashboard - –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏–∏
                    if (section === 'dashboard') {
                        showSection('dashboard-section');
                        updateActiveNav('dashboard');
                        document.getElementById('page-title').textContent = '–ì–ª–∞–≤–Ω–∞—è';
                    } else {
                        // –î–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ - –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                        navigateToPage(section);
                    }
                });
            });
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function navigateToPage(section) {
            let url = '';
            switch(section) {
                case 'tgbot':
                    url = '/static/tgbot.html';
                    break;
                case 'tickets':
                    url = '/static/tickets.html';
                    break;
                case 'archive':
                    url = '/static/archive.html';
                    break;
                case 'employees':
                    url = '/static/employees.html';
                    break;
                case 'chat':
                    url = '/static/chat.html';
                    break;
                case 'notes':
                    url = '/static/notes.html';
                    break;
                case 'profile':
                    url = '/static/profile.html';
                    break;
                default:
                    showSection(section + '-section');
                    updateActiveNav(section);
                    return;
            }
            
            if (url) {
                window.location.href = url;
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é
        function showSection(sectionId) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.remove('hidden');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function updateActiveNav(section) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            const activeLink = document.getElementById(`nav-${section}`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ –≤ —Ö–µ–¥–µ—Ä–µ
        function setupHeaderButtons() {
            // –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
            const profileBtn = document.getElementById('profileBtn');
            if (profileBtn) {
                profileBtn.addEventListener('click', function() {
                    window.location.href = '/static/profile.html';
                });
            }
            
            // –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    localStorage.removeItem('token');
                    window.location.href = '/static/login.html';
                });
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', function() {
                    document.body.classList.toggle('dark-theme');
                    const isDark = document.body.classList.contains('dark-theme');
                    this.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
                    localStorage.setItem('theme', isDark ? 'dark' : 'light');
                });
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    document.body.classList.add('dark-theme');
                    themeToggle.textContent = '‚òÄÔ∏è';
                }
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadUserProfile() {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch('/api/profile', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (response.ok) {
                    const profile = await response.json();
                    const usernameElement = document.getElementById('username');
                    if (usernameElement) {
                        usernameElement.textContent = profile.display_name || profile.username;
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', error);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
        function showProfile() {
            window.location.href = '/static/profile.html';
        }
    </script>
</body>
</html>